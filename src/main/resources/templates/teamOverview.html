<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head th:replace="general :: baseHeader(~{::title})">
    <title>Team overzicht</title>
</head>
<body>
<div th:replace="general :: navbar"></div>
<div class="container">
    <h1>Teams</h1>
    <div class="row justify-content-center">
        <table id="teamsTable" class="table table-striped table-bordered teamsTableClass" data-order='[[2, "asc"]]'>
            <thead>
                <tr>
                    <th></th>
                    <th scope="col">Team Naam</th>
                    <th scope="col">Poule</th>
                    <th scope="col">Aantal spelers</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="team: ${allTeams}">
                    <td><img th:src="${team.nationalFlag}" width="23" height="15" /></td>
                    <td type="button" class="link"><a class="clickableName"
                                                      th:href="@{/teams/{teamName}(teamName=${team.teamName})}"
                                                      th:text="${team.teamName}" /></td>
            <!-- TODO replace null with nicer default       -->
                    <td th:text="'Poule ' + ${team.poule?.pouleName}"/>
                    <td th:text="${team.nrOfPlayers}"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <p sec:authorize="hasRole('ADMIN')">
        <a th:href="@{/teams/add}">Voeg team toe</a>
    </p>
</div>
<div th:replace="general :: footer"></div>
<div th:replace="general :: bottom_scripts"></div>
<script type="text/javascript" language="javascript"
        src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script language="javascript" type="text/javascript">
    $(document).ready( function () {
        $('#teamsTable').DataTable();
    });
</script>
</body>
</html>