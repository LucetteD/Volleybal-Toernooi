<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org">
<html lang="en">
<head th:replace="general :: baseHeader(~{::title})">
    <title>Team details</title>
</head>
<body>
<div th:replace="general :: navbar"></div>
<div class="container">
    <h1><span th:text="${team.teamName}" /></h1>
    <table>
        <tr>
            <th>Team naam</th>
        </tr>
        <tr>
            <td th:text="${team.teamName}" />
        </tr>
        <tr>
            <th>Nationale vlag</th>
        </tr>
        <tr>
            <td><img th:src="'/' + ${team.nationalFlag}" width="23" height="15" /></td>
        </tr>
        <tr>
            <th>Poule</th>
        </tr>
        <tr>
            <td th:text="'Poule ' + ${team.poule?.pouleName}" />
        </tr>
    </table>
    <h2>Spelers</h2>
    <div id="all_players">
        <table id="playerTable" class="table table-striped table-bordered" data-paging="false">
            <thead>
            <tr>
                <th scope="col">Shirtnr.</th>
                <th scope="col">Achternaam</th>
                <th scope="col">Voornaam</th>
                <th scope="col">Rol</th>
                <th scope="col">Lengte (cm)</th>
                <th scope="col">Team</th>
                <th scope="col">Aantal gespeelde<br>wedstrijden</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="player: ${team.players}">
                <td th:text="${player.shirtNumber}"></td>
                <td><a class="clickableName"
                       th:href="@{/players/{playerName}(playerName=${player.lastName})}"
                       th:text="${player.lastName}"></a></td>
                <td th:text="${player.firstName}"></td>
                <td th:text="${player.role.roleName}"></td>
                <td th:text="${player.height}"></td>
                <td>
                    <a th:href="@{/teams/{teamName}(teamName=${player.team.teamName})}"
                       th:text="${player.team.teamName}"></a>
                </td>
                <td th:text="${player.nrOfGames}"></td>
            </tr>
            </tbody>
        </table>
        <div sec:authorize="hasRole('ADMIN')">
            <a th:href="@{/teams/change/{teamName}(teamName=${team.teamName})}">Wijzig team details</a>
        </div>
    </div>
</div>
<div th:replace="general :: footer"></div>
<div th:replace="general :: bottom_scripts"></div>

<script language="javascript" type="text/javascript">
    $(document).ready( function () {
        $('#playerTable').DataTable();
    });
</script>

</body>
</html>